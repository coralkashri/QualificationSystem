(function(d,b,a,e){var c=function(g,f){this.$elem=d(g);this.options=f;this.$container=null;this.$prevEllipsis=null;this.$nextEllipsis=null;this.currentPage=null;this.visiblePages=[];this.maxVisiblePages=3;this.useAppend=false};c.prototype={defaults:{align:"center",lastPage:1,firstPage:1,urlParameter:"page",useUrlParameter:true,onClickCallback:function(){}},init:function(){this.config=d.extend({},this.defaults,this.options);var f=this.config.useUrlParameter?this.parseUrl():this.config.currentPage?this.config.currentPage:this.config.firstPage;if(this.createPaginationBase(f)){this.bindClickEvent()}},createPaginationBase:function(i){if(isNaN(this.config.firstPage)||isNaN(this.config.lastPage)){console.error("Both firstPage and lastPage attributes need to be integer values");return false}else{if(this.config.firstPage>this.config.lastPage){console.error("Value of firstPage must be less than the value of lastPage");return false}}this.config.firstPage=parseInt(this.config.firstPage);this.config.lastPage=parseInt(this.config.lastPage);this.currentPage=this.config.firstPage-this.maxVisiblePages;this.$container=d("<ul>").addClass("pagination").addClass(this.config.align+"-align");this.$prevEllipsis=this.util.Ellipsis();this.$nextEllipsis=this.util.Ellipsis();var g=this.util.createPage(this.config.firstPage);var j=this.config.currentPage>1?this.util.createChevron("prev"):null;var f=this.config.currentPage<this.config.lastPage?this.util.createChevron("next"):null;this.$container.append(j).append(g).append(this.$prevEllipsis.$elem).append(this.$nextEllipsis.$elem).append(f);if(this.config.lastPage>this.config.firstPage){var h=this.util.createPage(this.config.lastPage);h.insertAfter(this.$nextEllipsis.$elem)}this.requestPage(i,true);this.renderActivePage();if(this.useAppend){this.$elem.append(this.$container)}else{this.$elem.html(this.$container)}return true},requestPage:function(g,f){switch(g){case this.currentPage:return;case this.currentPage-1:this.requestPrevPage();break;case this.currentPage+1:this.requestNextPage();break;default:this.requestPageByNumber(g)}if(!f){this.config.onClickCallback(this.currentPage)}this.renderActivePage();if(this.config.useUrlParameter){this.updateUrlParam(this.config.urlParameter,this.currentPage)}},requestPrevPage:function(){if(this.currentPage>this.config.firstPage){this.currentPage-=1;this.visiblePages.pop().remove();this.visiblePages.unshift(this.insertPrevPaginationComponent(this.currentPage-1))}},requestNextPage:function(){if(this.currentPage<this.config.lastPage){this.currentPage+=1;this.visiblePages.shift().remove();this.visiblePages.push(this.insertNextPaginationComponent(this.currentPage+1))}},requestPageByNumber:function(f){this.purgeVisiblePages();this.currentPage=f;this.visiblePages.push(this.insertNextPaginationComponent(this.currentPage-1));this.visiblePages.push(this.insertNextPaginationComponent(this.currentPage));this.visiblePages.push(this.insertNextPaginationComponent(this.currentPage+1))},renderActivePage:function(){this.renderEllipsis();this.$container.find("li.active").removeClass("active");var f=d(this.$container.find('[data-page="'+this.currentPage+'"]')[0]);f.addClass("active")},renderEllipsis:function(){if(this.$prevEllipsis.isHidden&&this.currentPage>=this.config.firstPage+this.maxVisiblePages){this.$prevEllipsis.show()}else{if(!this.$prevEllipsis.isHidden&&this.currentPage<=this.config.firstPage+this.maxVisiblePages-1){this.$prevEllipsis.hide()}}if(this.$nextEllipsis.isHidden&&this.currentPage<=this.config.lastPage-this.maxVisiblePages){this.$nextEllipsis.show()}else{if(!this.$nextEllipsis.isHidden&&this.currentPage>=this.config.lastPage-this.maxVisiblePages+1){this.$nextEllipsis.hide()}}},bindClickEvent:function(){var f=this;this.$container.on("click","li",function(){var g=f.sanitizePageRequest(d(this).data("page"));f.requestPage(g)})},insertPrevPaginationComponent:function(g){if(g>this.config.firstPage&&g<this.config.lastPage){var f=this.util.createPage(g);return f.insertAfter(this.$prevEllipsis.$elem)}return d("")},insertNextPaginationComponent:function(g){if(g>this.config.firstPage&&g<this.config.lastPage){var f=this.util.createPage(g);return f.insertBefore(this.$nextEllipsis.$elem)}return d("")},sanitizePageRequest:function(f){var g=this.config.firstPage;if(f==="prev"){g=this.currentPage===this.config.firstPage?this.currentPage:this.currentPage-1}else{if(f==="next"){g=this.currentPage===this.config.lastPage?this.currentPage:this.currentPage+1}else{if(!isNaN(f)&&f>=this.config.firstPage&&f<=this.config.lastPage){g=parseInt(f)}}}return g},purgeVisiblePages:function(){var f=this.visiblePages.length;for(var g=0;g<f;g+=1){this.visiblePages.pop().remove()}},parseUrl:function(){var f=this.getUrlParamByName(this.config.urlParameter)||this.config.firstPage;return this.sanitizePageRequest(f)},getUrlParamByName:function(g){g=g.replace(/[\[\]]/g,"\\$&");var f=b.location.href;var i=new RegExp("[?&]"+g+"(=([^&#]*)|&|#|$)");var h=i.exec(f);if(!h){return null}if(!h[2]){return""}return decodeURIComponent(h[2].replace(/\+/g," "))},updateUrlParam:function(g,i){var h=[location.protocol,"//",location.host,location.pathname].join(""),f=a.location.search,k=g+"="+i,j="?"+k;if(f){keyRegex=new RegExp("([?&])"+g+"[^&]*");if(f.match(keyRegex)!==null){j=f.replace(keyRegex,"$1"+k)}else{j=f+"&"+k}}b.history.pushState("","",j)},util:{createPage:function(f){return d("<li>").html("<a>"+f+"</a>").addClass("waves-effect").attr("data-page",f)},createChevron:function(g){var h=g==="next"?"right":"left";var f=d("<i>").addClass("waves-effect").addClass("material-icons").text("chevron_"+h);return this.createPage(g).text("").attr("data-page",g).append(f)},Ellipsis:function(){var f=d("<li>");f.text("...");f.addClass("hide disabled");return{$elem:f,isHidden:true,show:function(){this.isHidden=false;this.$elem.removeClass("hide")},hide:function(){this.isHidden=true;this.$elem.addClass("hide")}}}}};c.defaults=c.prototype.defaults;d.fn.materializePagination=function(f){return this.each(function(){new c(this,f).init()})}})(jQuery,window,document);